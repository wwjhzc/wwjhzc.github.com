{"version":3,"sources":["webpack:///src/components/nx-tree/index.vue","webpack:///./src/components/nx-tree/index.vue?7614","webpack:///./src/components/nx-tree/index.vue","webpack:///./src/api/treeApi.js","webpack:///src/views/tree/treeMen.vue","webpack:///./src/views/tree/treeMen.vue?3b9e","webpack:///./src/views/tree/treeMen.vue"],"names":["components_nx_tree","render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","DATA","expression","ref","id","attrs","size","autofocus","on","blur","$event","stopPropagation","nodeEditPass","STORE","NODE","nativeOn","click","nodeEditFocus","keyup","_k","keyCode","key","model","callback","$$v","$set","_v","isEdit","class","maxexpandId","_s","nodeAdd","nodeEdit","nodeDel","staticRenderFns","src_components_nx_tree","__webpack_require__","normalizeComponent","props","methods","s","d","n","$emit","_this","$nextTick","$refs","input","focus","ssrContext","treeApi","treelist","ProSort","remark","pid","children","treeMen","data","non_maxexpandId","isLoadingTree","setTree","defaultProps","label","defaultExpandKeys","mounted","console","log","initExpand","map","a","push","handleNodeClick","renderContent","h","_ref","node","store","that","handleAdd","handleEdit","handleDelete","handleAddTop","level","$message","error","expanded","_this2","length","delNode","list","parent","_index","c","i","k","splice","success","$confirm","confirmButtonText","cancelButtonText","type","then","catch","tree_treeMen","_m","node-key","highlight-current","expand-on-click-node","render-content","node-click","_e","href","target","treeMen_Component","treeMen_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/18.45f6f80dcbf7ca0c2f0b.js","sourcesContent":["<template>\r\n    <span class=\"tree-expand\">\r\n        <span class=\"tree-label\" v-show=\"DATA.isEdit\">\r\n            <el-input class=\"edit\" size=\"mini\" autofocus\r\n                v-model=\"DATA.name\"\r\n                :ref=\"'treeInput'+DATA.id\"\r\n                @click.stop.native=\"nodeEditFocus\"\r\n                @blur.stop=\"nodeEditPass(STORE, DATA, NODE)\"\r\n                @keyup.enter.stop.native=\"nodeEditPass(STORE, DATA, NODE)\"\r\n            >\r\n            </el-input>\r\n        </span>\r\n        <span v-show=\"!DATA.isEdit\"\r\n            :class=\"[DATA.id > maxexpandId ? 'tree-new tree-label' : 'tree-label']\"\r\n        >\r\n            <span>{{DATA.name}}</span>\r\n        </span>\r\n        <span class=\"tree-btn\" v-show=\"!DATA.isEdit\">\r\n            <i class=\"el-icon-plus\" @click.stop=\"nodeAdd(STORE, DATA, NODE)\"></i>\r\n            <i class=\"el-icon-edit\" @click.stop=\"nodeEdit(STORE, DATA, NODE)\"></i>\r\n            <i class=\"el-icon-delete\" @click.stop=\"nodeDel(STORE, DATA, NODE)\"></i>\r\n        </span>\r\n    </span>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: 'nx-tree-render',\r\n    props: ['NODE', 'DATA', 'STORE', 'maxexpandId'],\r\n    methods: {\r\n        nodeAdd(s, d, n){      // 新增\r\n            this.$emit('nodeAdd', s, d, n)\r\n        },\r\n        nodeEdit(s, d, n){      // 编辑\r\n            d.isEdit = true\r\n            this.$nextTick(() => {\r\n                this.$refs['treeInput' + d.id].$refs.input.focus()\r\n            })\r\n            this.$emit('nodeEdit', s, d, n)\r\n        },\r\n        nodeDel(s, d, n) {  // 删除\r\n            this.$emit('nodeDel', s, d, n)\r\n        },\r\n        nodeEditPass(s, d, n){  // 编辑完成\r\n            d.isEdit = false\r\n        },\r\n        nodeEditFocus() {\r\n            // 组织点击节点的事件冒泡\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n.tree-expand{\r\n    overflow:hidden;\r\n}\r\n.tree-expand .tree-label.tree-new{\r\n    font-weight:600;\r\n}\r\n.tree-expand .tree-label{\r\n    font-size:0.9em;\r\n}\r\n.tree-expand .tree-label .edit{\r\n    width:80%;\r\n}\r\n.tree-expand .tree-btn{\r\n    display:none;\r\n    float:right;\r\n    margin-right:20px;\r\n}\r\n.tree-expand .tree-btn i{\r\n    color:#8492a6;\r\n    font-size:0.9em;\r\n    margin-right:3px;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/nx-tree/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"tree-expand\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.DATA.isEdit),expression:\"DATA.isEdit\"}],staticClass:\"tree-label\"},[_c('el-input',{ref:'treeInput'+_vm.DATA.id,staticClass:\"edit\",attrs:{\"size\":\"mini\",\"autofocus\":\"\"},on:{\"blur\":function($event){$event.stopPropagation();_vm.nodeEditPass(_vm.STORE, _vm.DATA, _vm.NODE)}},nativeOn:{\"click\":function($event){$event.stopPropagation();return _vm.nodeEditFocus($event)},\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.stopPropagation();_vm.nodeEditPass(_vm.STORE, _vm.DATA, _vm.NODE)}},model:{value:(_vm.DATA.name),callback:function ($$v) {_vm.$set(_vm.DATA, \"name\", $$v)},expression:\"DATA.name\"}})],1),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.DATA.isEdit),expression:\"!DATA.isEdit\"}],class:[_vm.DATA.id > _vm.maxexpandId ? 'tree-new tree-label' : 'tree-label']},[_c('span',[_vm._v(_vm._s(_vm.DATA.name))])]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.DATA.isEdit),expression:\"!DATA.isEdit\"}],staticClass:\"tree-btn\"},[_c('i',{staticClass:\"el-icon-plus\",on:{\"click\":function($event){$event.stopPropagation();_vm.nodeAdd(_vm.STORE, _vm.DATA, _vm.NODE)}}}),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-edit\",on:{\"click\":function($event){$event.stopPropagation();_vm.nodeEdit(_vm.STORE, _vm.DATA, _vm.NODE)}}}),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){$event.stopPropagation();_vm.nodeDel(_vm.STORE, _vm.DATA, _vm.NODE)}}})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-367b7ce0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/nx-tree/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-367b7ce0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-367b7ce0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/nx-tree/index.vue\n// module id = null\n// module chunks = ","export default {\r\n    maxexpandId: 95,\r\n    treelist: [{\r\n      id: 1,\r\n      name: '北京市',\r\n      ProSort: 1,\r\n      remark: '直辖市',\r\n      pid: '',\r\n      isEdit: false,\r\n      children: [{\r\n        id: 35,\r\n        name: '朝阳区',\r\n        pid: 1,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }, {\r\n        id: 36,\r\n        name: '海淀区',\r\n        pid: 1,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }, {\r\n        id: 37,\r\n        name: '房山区',\r\n        pid: 1,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }, {\r\n        id: 38,\r\n        name: '丰台区',\r\n        pid: 1,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }, {\r\n        id: 39,\r\n        name: '昌平区',\r\n        pid: 1,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }, {\r\n        id: 40,\r\n        name: '大兴区',\r\n        pid: 1,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }]\r\n    }, {\r\n      id: 2,\r\n      name: '天津市',\r\n      ProSort: 2,\r\n      remark: '直辖市',\r\n      pid: '',\r\n      isEdit: false,\r\n      children: [{\r\n        id: 41,\r\n        name: '北辰区',\r\n        pid: 2,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }, {\r\n        id: 42,\r\n        name: '河北区',\r\n        pid: 2,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }, {\r\n        id: 43,\r\n        name: '西青区',\r\n        pid: 2,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }, {\r\n        id: 44,\r\n        name: '东丽区',\r\n        pid: 2,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }]\r\n    }, {\r\n      id: 3,\r\n      name: '河北省',\r\n      ProSort: 5,\r\n      remark: '省份',\r\n      pid: '',\r\n      isEdit: false,\r\n      children: [{\r\n        id: 45,\r\n        name: '衡水市',\r\n        pid: 3,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }, {\r\n        id: 46,\r\n        name: '张家口市',\r\n        pid: 3,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }, {\r\n        id: 47,\r\n        name: '秦皇岛市',\r\n        pid: 3,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }, {\r\n        id: 48,\r\n        name: '承德市',\r\n        pid: 3,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }, {\r\n        id: 49,\r\n        name: '邯郸市',\r\n        pid: 3,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }]\r\n    }, {\r\n      id: 4,\r\n      name: '山西省',\r\n      ProSort: 6,\r\n      remark: '省份',\r\n      pid: '',\r\n      isEdit: false,\r\n      children: [{\r\n        id: 50,\r\n        name: '大同市',\r\n        pid: 4,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }]\r\n    }, {\r\n      id: 5,\r\n      name: '内蒙古自治区',\r\n      ProSort: 32,\r\n      remark: '自治区',\r\n      pid: '',\r\n      isEdit: false,\r\n      children: [{\r\n        id: 51,\r\n        name: '包头市',\r\n        pid: 5,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }]\r\n    }, {\r\n      id: 6,\r\n      name: '辽宁省',\r\n      ProSort: 8,\r\n      remark: '省份',\r\n      pid: '',\r\n      isEdit: false,\r\n      children: [{\r\n        id: 52,\r\n        name: '大连市',\r\n        pid: 6,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }, {\r\n        id: 53,\r\n        name: '太原市',\r\n        pid: 6,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }]\r\n    }, {\r\n      id: 20,\r\n      name: '海南省',\r\n      ProSort: 24,\r\n      remark: '省份',\r\n      pid: '',\r\n      isEdit: false,\r\n      children: [{\r\n        id: 68,\r\n        name: '海口市',\r\n        pid: 20,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }]\r\n    }, {\r\n      id: 21,\r\n      name: '广西壮族自治区',\r\n      ProSort: 28,\r\n      remark: '自治区',\r\n      pid: '',\r\n      isEdit: false,\r\n      children: [{\r\n        id: 69,\r\n        name: '玉林市',\r\n        pid: 21,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }, {\r\n        id: 86,\r\n        name: '贺州市',\r\n        pid: 21,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }]\r\n    }, {\r\n      id: 22,\r\n      name: '甘肃省',\r\n      ProSort: 21,\r\n      remark: '省份',\r\n      pid: '',\r\n      isEdit: false,\r\n      children: [{\r\n        id: 70,\r\n        name: '兰州市',\r\n        pid: 22,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }]\r\n    }, {\r\n      id: 23,\r\n      name: '陕西省',\r\n      ProSort: 27,\r\n      remark: '省份',\r\n      pid: '',\r\n      isEdit: false,\r\n      children: [{\r\n        id: 71,\r\n        name: '咸阳市',\r\n        pid: 23,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }, {\r\n        id: 87,\r\n        name: '安康市',\r\n        pid: 23,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }]\r\n    }, {\r\n      id: 24,\r\n      name: '新疆维吾尔自治区',\r\n      ProSort: 31,\r\n      remark: '自治区',\r\n      pid: '',\r\n      isEdit: false,\r\n      children: [{\r\n        id: 72,\r\n        name: '乌鲁木齐市',\r\n        pid: 24,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }, {\r\n        id: 88,\r\n        name: '和田地区',\r\n        pid: 24,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }, {\r\n        id: 89,\r\n        name: '阿勒泰州',\r\n        pid: 24,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }]\r\n    }, {\r\n      id: 25,\r\n      name: '青海省',\r\n      ProSort: 26,\r\n      remark: '省份',\r\n      pid: '',\r\n      isEdit: false,\r\n      children: [{\r\n        id: 73,\r\n        name: '黄南藏族自治州',\r\n        pid: 25,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }]\r\n    }, {\r\n      id: 26,\r\n      name: '宁夏回族自治区',\r\n      ProSort: 30,\r\n      remark: '自治区',\r\n      pid: '',\r\n      isEdit: false,\r\n      children: [{\r\n        id: 74,\r\n        name: '银川市',\r\n        pid: 26,\r\n        remark: '',\r\n        isEdit: false,\r\n        children: []\r\n      }]\r\n    }]\r\n  }\r\n  \n\n\n// WEBPACK FOOTER //\n// ./src/api/treeApi.js","<template>\r\n    <div class=\"expand\">\r\n        <p class=\"warn-content\">\r\n            <a href=\"https://xiaoniezi.github.io/2017-10-16/vue-ElementUI-tree-expand/\" target=\"\">Tree组件参考tree</a>\r\n        </p>\r\n        <div>\r\n            <el-button @click=\"handleAddTop\">添加顶级节点</el-button>\r\n            <el-tree ref=\"expandMenuList\" class=\"expand-tree\"\r\n                v-if=\"isLoadingTree\"\r\n                :data=\"setTree\"\r\n                node-key=\"id\"\r\n                highlight-current\r\n                :props=\"defaultProps\"\r\n                :expand-on-click-node=\"false\"\r\n                :render-content=\"renderContent\"\r\n                @node-click=\"handleNodeClick\"\r\n            >\r\n            </el-tree>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n// 添加增删改功能按钮\r\nimport TreeRender from '@/components/nx-tree'\r\nimport api from '@/api/treeApi'\r\n\r\nexport default {\r\n    name: 'tree',\r\n    data() {\r\n        return {\r\n            maxexpandId: api.maxexpandId,       // 新增节点开始id\r\n            non_maxexpandId: api.maxexpandId,       // 新增节点开始id（不更改）\r\n            isLoadingTree: false,   // 是否加载接点树\r\n            setTree: api.treelist,  // 节点树数据\r\n            defaultProps: {\r\n                children: 'children',\r\n                label: 'name'\r\n            },\r\n            defaultExpandKeys: []       // 默认展开节点列表\r\n        }\r\n    },\r\n    mounted() {\r\n        console.log(api)\r\n        this.initExpand()\r\n    },\r\n    methods: {\r\n        initExpand() {\r\n            this.setTree.map((a) => {\r\n                this.defaultExpandKeys.push(a.id)\r\n            })\r\n            this.isLoadingTree = true\r\n        },\r\n        handleNodeClick(d, n, s) {  // 点击节点\r\n            d.isEdit = false    // 放弃编辑状态\r\n        },\r\n        renderContent(h, { node, data, store }) {   // 加载节点\r\n            const that = this\r\n            return h(TreeRender, {\r\n                props: {\r\n                    DATA: data,\r\n                    NODE: node,\r\n                    STORE: store,\r\n                    maxexpandId: that.non_maxexpandId\r\n                },\r\n                on: {\r\n                    nodeAdd: (s, d, n) => that.handleAdd(s, d, n),\r\n                    nodeEdit: (s, d, n) => that.handleEdit(s, d, n),\r\n                    nodeDel: (s, d, n) => that.handleDelete(s, d, n)\r\n                }\r\n            })\r\n        },\r\n        handleAddTop() {\r\n            this.setTree.push({\r\n                id: ++this.maxexpandId,\r\n                name: '新增节点',\r\n                pid: '',\r\n                isEdit: false,\r\n                children: []\r\n            })\r\n        },\r\n        handleAdd(s, d, n) {    // 新增节点\r\n            if(n.level >= 6) {\r\n                this.$message.error('最多只支持五级！')\r\n                return false\r\n            }\r\n            // 添加数据\r\n            d.children.push({\r\n                id: ++this.maxexpandId,\r\n                name: '新增节点',\r\n                pid: d.id,\r\n                isEdit: false,\r\n                children: []\r\n            })\r\n            // 展开节点\r\n            if(!n.expanded){\r\n                n.expanded = true\r\n            }\r\n        },\r\n        handleEdit(s, d, n) {       // 编辑节点\r\n            console.log(s, d, n)\r\n        },\r\n        handleDelete(s, d, n) {     // 删除节点\r\n            console.log(s, d, n)\r\n            const that = this\r\n            // 有子级不删除\r\n            if(d.children && d.children.length !== 0) {\r\n                this.$message.error('此节点有子级，不可删除！')\r\n                return false\r\n            } else {\r\n                // 新增节点直接删除，否则要询问是否删除\r\n                const delNode = () => {\r\n                    const list = n.parent.data.children || n.parent.data    // 节点同级数据\r\n                    let _index = 99999      // 要删除的index\r\n                    list.map((c, i) => {\r\n                        if(d.id === c.id) {\r\n                            _index = i\r\n                        }\r\n                    })\r\n                    const k = list.splice(_index, 1)\r\n                    console.log(_index, k)\r\n                    this.$message.success('删除成功！')\r\n                }\r\n                const isDel = () => {\r\n                    that.$confirm('是否删除此节点？', '提示', {\r\n                        confirmButtonText: '确认',\r\n                        cancelButtonText: '取消',\r\n                        type: 'warning'\r\n                    }).then(() => {\r\n                        delNode()\r\n                    }).catch(() => {\r\n                        return false\r\n                    })\r\n                }\r\n                // 判断是否新增\r\n                d.id > this.non_maxexpandId ? delNode() : isDel()\r\n            }\r\n        }\r\n    }\r\n    \r\n}\r\n</script>\r\n<style>\r\n.expand{\r\n  width:100%;\r\n  height:100%;\r\n  overflow:hidden;\r\n}\r\n.expand>div{\r\n  height:85%;\r\n  padding-top:20px;\r\n  width:50%;\r\n  margin:20px auto;\r\n  max-width:400px;\r\n  overflow-y:auto;\r\n}\r\n.expand>div::-webkit-scrollbar-track{\r\n  box-shadow: inset 0 0 6px rgba(0,0,0,.3);\r\n  border-radius:5px;\r\n}\r\n.expand>div::-webkit-scrollbar-thumb{\r\n  background-color:rgba(50, 65, 87, 0.5);\r\n  outline:1px solid slategrey;\r\n  border-radius:5px;\r\n}\r\n.expand>div::-webkit-scrollbar{\r\n  width:10px;\r\n}\r\n.expand-tree{\r\n  border:none;\r\n  margin-top:10px;\r\n}\r\n.expand-tree .el-tree-node.is-current,\r\n.expand-tree .el-tree-node:hover{\r\n  overflow:hidden;\r\n}\r\n.expand-tree .is-current>.el-tree-node__content .tree-btn,\r\n.expand-tree .el-tree-node__content:hover .tree-btn{\r\n  display:inline-block;\r\n}\r\n.expand-tree .is-current>.el-tree-node__content .tree-label{\r\n  font-weight:600;\r\n  white-space:normal;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/tree/treeMen.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"expand\"},[_vm._m(0),_vm._v(\" \"),_c('div',[_c('el-button',{on:{\"click\":_vm.handleAddTop}},[_vm._v(\"添加顶级节点\")]),_vm._v(\" \"),(_vm.isLoadingTree)?_c('el-tree',{ref:\"expandMenuList\",staticClass:\"expand-tree\",attrs:{\"data\":_vm.setTree,\"node-key\":\"id\",\"highlight-current\":\"\",\"props\":_vm.defaultProps,\"expand-on-click-node\":false,\"render-content\":_vm.renderContent},on:{\"node-click\":_vm.handleNodeClick}}):_vm._e()],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"warn-content\"},[_c('a',{attrs:{\"href\":\"https://xiaoniezi.github.io/2017-10-16/vue-ElementUI-tree-expand/\",\"target\":\"\"}},[_vm._v(\"Tree组件参考tree\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1a536aa5\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/tree/treeMen.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1a536aa5\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./treeMen.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./treeMen.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./treeMen.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1a536aa5\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./treeMen.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/tree/treeMen.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}