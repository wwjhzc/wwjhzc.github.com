{"version":3,"sources":["webpack:///./src/utils/table.js","webpack:///src/views/table/complex-table.vue","webpack:///./src/api/userTable.js","webpack:///./src/views/table/complex-table.vue?8036","webpack:///./src/views/table/complex-table.vue"],"names":["SIGN_REGEXP","padding","s","len","lens","length","i","table","getQueryStringByName","name","reg","RegExp","r","window","location","search","substr","match","context","formatDate","format","date","pattern","replace","$0","charAt","getFullYear","getMonth","getDate","getDay","getHours","getMinutes","getSeconds","parse","dateString","matchs1","matchs2","_date","Date","_int","parseInt","setFullYear","setMonth","setDate","setHours","setMinutes","setSeconds","complex_table","data","dialogStatus","textMap","update","create","dialogFormVisible","filters","page","total","users","sels","editFormRules","required","message","trigger","editForm","id","sex","age","birth","addr","addFormVisible","addFormRules","methods","formatSex","row","column","handleCurrentChange","val","this","getUsers","params","_this","para","request","url","method","then","res","handleDel","index","_this2","$confirm","type","undefined","$message","catch","handleEdit","assign_default","handleAdd","updateData","_this3","$refs","validate","valid","formatData","resetFields","thi","e","console","log","createData","_this4","Math","random","toString","selsChange","batchRemove","_this5","ids","map","item","mounted","table_complex_table","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","padding-bottom","attrs","span","inline","model","nativeOn","submit","$event","preventDefault","placeholder","value","callback","$$v","$set","expression","_v","on","click","float","disabled","width","heighlight-current-row","selection-change","prop","label","formatter","min-width","scopedSlots","_u","key","fn","scope","size","$index","layout","page-size","current-change","title","visible","close-on-click-model","update:visible","ref","label-width","rules","auto-complete","min","max","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"iIAAIA,EAAc,mBAElB,SAASC,EAAQC,EAAGC,GAElB,IADA,IAAIC,EAAOD,GAAOD,EAAI,IAAIG,OACjBC,EAAI,EAAGA,EAAIF,EAAME,IAAOJ,EAAI,IAAMA,EAC3C,OAAOA,EAGM,IAAAK,GACbC,qBAAsB,SAASC,GAC7B,IAAIC,EAAM,IAAIC,OAAO,QAAUF,EAAO,gBAAiB,KACnDG,EAAIC,OAAOC,SAASC,OAAOC,OAAO,GAAGC,MAAMP,GAC3CQ,EAAU,GAId,OAHS,MAALN,IAAaM,EAAUN,EAAE,IAC7BF,EAAM,KACNE,EAAI,KACc,MAAXM,GAA+B,KAAZA,GAA8B,cAAZA,EAA0B,GAAKA,GAE7EC,YAEEC,OAAQ,SAASC,EAAMC,GAErB,OADAA,EAAUA,GApBM,cAqBDC,QAAQvB,EAAa,SAASwB,GAC3C,OAAQA,EAAGC,OAAO,IAChB,IAAK,IAAK,OAAOxB,EAAQoB,EAAKK,cAAeF,EAAGnB,QAChD,IAAK,IAAK,OAAOJ,EAAQoB,EAAKM,WAAa,EAAGH,EAAGnB,QACjD,IAAK,IAAK,OAAOJ,EAAQoB,EAAKO,UAAWJ,EAAGnB,QAC5C,IAAK,IAAK,OAAOgB,EAAKQ,SAAW,EACjC,IAAK,IAAK,OAAO5B,EAAQoB,EAAKS,WAAYN,EAAGnB,QAC7C,IAAK,IAAK,OAAOJ,EAAQoB,EAAKU,aAAcP,EAAGnB,QAC/C,IAAK,IAAK,OAAOJ,EAAQoB,EAAKW,aAAcR,EAAGnB,YAIrD4B,MAAO,SAASC,EAAYZ,GAC1B,IAAIa,EAAUb,EAAQL,MAAMjB,GACxBoC,EAAUF,EAAWjB,MAAM,UAC/B,GAAIkB,EAAQ9B,SAAW+B,EAAQ/B,OAAQ,CAErC,IADA,IAAIgC,EAAQ,IAAIC,KAAK,KAAM,EAAG,GACrBhC,EAAI,EAAGA,EAAI6B,EAAQ9B,OAAQC,IAAK,CACvC,IAAIiC,EAAOC,SAASJ,EAAQ9B,IAE5B,OADW6B,EAAQ7B,GACNmB,OAAO,IAClB,IAAK,IAAKY,EAAMI,YAAYF,GAAO,MACnC,IAAK,IAAKF,EAAMK,SAASH,EAAO,GAAI,MACpC,IAAK,IAAKF,EAAMM,QAAQJ,GAAO,MAC/B,IAAK,IAAKF,EAAMO,SAASL,GAAO,MAChC,IAAK,IAAKF,EAAMQ,WAAWN,GAAO,MAClC,IAAK,IAAKF,EAAMS,WAAWP,IAG/B,OAAOF,EAET,OAAO,oBCwBb,IAAAU,GACAC,KADA,WAEA,OACAC,aAAA,GACAC,SACAC,OAAA,OACAC,OAAA,UAEAC,mBAAA,EACAC,SACA7C,KAAA,IAEA8C,KAAA,EACAC,MAAA,EACAC,SACAC,QACAC,eACAlD,OAAAmD,UAAA,EAAAC,QAAA,QAAAC,QAAA,UAGAC,UACAC,GAAA,IACAvD,KAAA,GACAwD,IAAA,EACAC,IAAA,EACAC,MAAA,GACAC,KAAA,IAEAC,gBAAA,EACAC,cACA7D,OAAAmD,UAAA,EAAAC,QAAA,QAAAC,QAAA,YAIAS,SAEAC,UAAA,SAAAC,EAAAC,GACA,WAAAD,EAAAR,IAAA,QAAAQ,EAAAR,IAAA,UAEAU,oBALA,SAKAC,GACAC,KAAAtB,KAAAqB,EACAC,KAAAC,YAGAA,SAVA,WAUA,ICvHgCC,EDuHhCC,EAAAH,KACAI,GACA1B,KAAAsB,KAAAtB,KACA9C,KAAAoE,KAAAvB,QAAA7C,OC1HgCsE,ED4HhCE,EC3HWC,aACHC,IAAK,iBACLC,OAAQ,MACRL,OAAQA,KDwHhBM,KAAA,SAAAC,GACAN,EAAAxB,MAAA8B,EAAAtC,KAAAQ,MACAwB,EAAAvB,MAAA6B,EAAAtC,KAAAS,SAIA8B,UArBA,SAqBAC,EAAAf,GAAA,IAAAgB,EAAAZ,KACAA,KAAAa,SAAA,kBACAC,KAAA,YAEAN,KAAA,iBAEgBO,IADhB5B,GAAAS,EAAAT,KACAqB,KAAA,SAAAC,GACAG,EAAAI,UACAhC,QAAA,OACA8B,KAAA,YAEAF,EAAAX,eAGAgB,MAAA,eAGAC,WAtCA,SAsCAP,EAAAf,GACAI,KAAA5B,aAAA,SACA4B,KAAAxB,mBAAA,EACAwB,KAAAd,SAAAiC,OAAAvB,IAGAwB,UA5CA,WA6CApB,KAAA5B,aAAA,SACA4B,KAAAxB,mBAAA,EACAwB,KAAAd,UACAC,GAAA,IACAvD,KAAA,GACAwD,IAAA,EACAC,IAAA,EACAC,MAAA,GACAC,KAAA,KAIA8B,WAzDA,WAyDA,IAAAC,EAAAtB,KACAA,KAAAuB,MAAArC,SAAAsC,SAAA,SAAAC,GACAA,GACAH,EAAAT,SAAA,kBACAL,KAAA,WACA,IAAAJ,EAAAe,OAAAG,EAAApC,UACAkB,EAAAd,MAAAc,EAAAd,OAAA,KAAAc,EAAAd,MAAA5D,EAAAgG,WAAAnF,OAAA,IAAAkB,KAAA2C,EAAAd,OAAA,uBACwByB,GAAxBX,GAAAI,KAAA,SAAAC,GACAa,EAAAN,UACAhC,QAAA,OACA8B,KAAA,YAEAQ,EAAAC,MAAA,SAAAI,cACAC,IAAApD,mBAAA,EACA8C,EAAArB,eAGAgB,MAAA,SAAAY,GAEAC,QAAAC,IAAAF,QAMAG,WAAA,eAAAC,EAAAjC,KACAA,KAAAuB,MAAArC,SAAAsC,SAAA,SAAAC,GACAA,GACAQ,EAAApB,SAAA,kBACAL,KAAA,WACAyB,EAAA/C,SAAAC,GAAAxB,SAAA,IAAAuE,KAAAC,UAAAC,WACA,IAAAhC,EAAAe,OAAAc,EAAA/C,UACA4C,QAAAC,IAAA3B,GAEAA,EAAAd,MAAAc,EAAAd,OAAA,KAAAc,EAAAd,MAAA5D,EAAAY,WAAAC,OAAA,IAAAkB,KAAA2C,EAAAd,OAAA,uBACwByB,GAAxBX,GAAAI,KAAA,SAAAC,GACAwB,EAAAjB,UACAhC,QAAA,OACA8B,KAAA,YAEAmB,EAAAV,MAAA,SAAAI,cACAM,EAAAzD,mBAAA,EACAyD,EAAAhC,eAGAgB,MAAA,SAAAY,GAEAC,QAAAC,IAAAF,QAMAQ,WA9GA,SA8GAxD,GACAmB,KAAAnB,QAGAyD,YAlHA,WAkHA,IAAAC,EAAAvC,KACAwC,EAAAxC,KAAAnB,KAAA4D,IAAA,SAAAC,GAAA,OAAAA,EAAAvD,KAAAiD,WACApC,KAAAa,SAAA,mBACAC,KAAA,YAEAN,KAAA,iBAEgBO,IADhByB,QACAhC,KAAA,SAAAC,GACA8B,EAAAvB,UACAhC,QAAA,OACA8B,KAAA,YAEAyB,EAAAtC,eAGAgB,MAAA,SAAAY,GAEAC,QAAAC,IAAAF,OAIAc,QAzKA,WA0KA3C,KAAAC,aEpPe2C,GADEC,OAFjB,WAA0B,IAAAC,EAAA9C,KAAa+C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,WAAqBE,YAAA,kBAA4BF,EAAA,UAAeE,YAAA,UAAAC,aAAmCC,iBAAA,OAAuBC,OAAQC,KAAA,MAAWN,EAAA,WAAgBK,OAAOE,QAAA,EAAAC,MAAAX,EAAArE,SAAkCiF,UAAWC,OAAA,SAAAC,GAA0BA,EAAAC,qBAA2BZ,EAAA,gBAAAA,EAAA,YAAoCK,OAAOQ,YAAA,MAAmBL,OAAQM,MAAAjB,EAAArE,QAAA,KAAAuF,SAAA,SAAAC,GAAkDnB,EAAAoB,KAAApB,EAAArE,QAAA,OAAAwF,IAAmCE,WAAA,mBAA4B,GAAArB,EAAAsB,GAAA,KAAAnB,EAAA,gBAAAA,EAAA,aAAqDK,OAAOxC,KAAA,WAAiBuD,IAAKC,MAAAxB,EAAA7C,YAAsB6C,EAAAsB,GAAA,YAAAtB,EAAAsB,GAAA,KAAAnB,EAAA,gBAAAA,EAAA,aAAoEK,OAAOxC,KAAA,WAAiBuD,IAAKC,MAAAxB,EAAA1B,aAAuB0B,EAAAsB,GAAA,YAAAtB,EAAAsB,GAAA,KAAAnB,EAAA,gBAAoDG,aAAamB,MAAA,WAAiBtB,EAAA,aAAkBK,OAAOxC,KAAA,SAAA0D,SAAA,IAAAxE,KAAAnB,KAAArD,QAAgD6I,IAAKC,MAAAxB,EAAAR,eAAyBQ,EAAAsB,GAAA,sBAAAtB,EAAAsB,GAAA,KAAAnB,EAAA,YAA0DG,aAAaqB,MAAA,QAAenB,OAAQnF,KAAA2E,EAAAlE,MAAA8F,yBAAA,IAA6CL,IAAKM,mBAAA7B,EAAAT,cAAmCY,EAAA,mBAAwBK,OAAOxC,KAAA,YAAA2D,MAAA,QAAiC3B,EAAAsB,GAAA,KAAAnB,EAAA,mBAAoCK,OAAOxC,KAAA,QAAA2D,MAAA,QAA6B3B,EAAAsB,GAAA,KAAAnB,EAAA,mBAAoCK,OAAOsB,KAAA,OAAAC,MAAA,KAAAJ,MAAA,SAA0C3B,EAAAsB,GAAA,KAAAnB,EAAA,mBAAoCK,OAAOsB,KAAA,MAAAC,MAAA,KAAAJ,MAAA,MAAAK,UAAAhC,EAAAnD,aAAmEmD,EAAAsB,GAAA,KAAAnB,EAAA,mBAAoCK,OAAOsB,KAAA,MAAAC,MAAA,KAAAJ,MAAA,SAAyC3B,EAAAsB,GAAA,KAAAnB,EAAA,mBAAoCK,OAAOsB,KAAA,QAAAC,MAAA,KAAAJ,MAAA,SAA2C3B,EAAAsB,GAAA,KAAAnB,EAAA,mBAAoCK,OAAOsB,KAAA,OAAAC,MAAA,KAAAE,YAAA,SAA8CjC,EAAAsB,GAAA,KAAAnB,EAAA,mBAAoCK,OAAOuB,MAAA,KAAAJ,MAAA,OAA2BO,YAAAlC,EAAAmC,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAnC,EAAA,aAAwBK,OAAO+B,KAAA,SAAehB,IAAKC,MAAA,SAAAV,GAAyBd,EAAA5B,WAAAkE,EAAAE,OAAAF,EAAAxF,SAA0CkD,EAAAsB,GAAA,QAAAtB,EAAAsB,GAAA,KAAAnB,EAAA,aAA6CK,OAAOxC,KAAA,SAAAuE,KAAA,SAA+BhB,IAAKC,MAAA,SAAAV,GAAyBd,EAAApC,UAAA0E,EAAAE,OAAAF,EAAAxF,SAAyCkD,EAAAsB,GAAA,eAAsBtB,EAAAsB,GAAA,KAAAnB,EAAA,uBAAAH,EAAAsB,GAAA,KAAAnB,EAAA,UAAiEE,YAAA,UAAAG,OAA6BC,KAAA,MAAWN,EAAA,iBAAsBG,aAAamB,MAAA,SAAgBjB,OAAQiC,OAAA,oBAAAC,YAAA,GAAA7G,MAAAmE,EAAAnE,OAA8D0F,IAAKoB,iBAAA3C,EAAAhD,wBAA0C,GAAAgD,EAAAsB,GAAA,KAAAnB,EAAA,aAAkCK,OAAOoC,MAAA5C,EAAAzE,QAAAyE,EAAA1E,cAAAuH,QAAA7C,EAAAtE,kBAAAoH,wBAAA,GAAmGvB,IAAKwB,iBAAA,SAAAjC,GAAkCd,EAAAtE,kBAAAoF,MAA+BX,EAAA,WAAgB6C,IAAA,WAAAxC,OAAsBG,MAAAX,EAAA5D,SAAA6G,cAAA,OAAAC,MAAAlD,EAAAhE,iBAAqEmE,EAAA,gBAAqBK,OAAOuB,MAAA,KAAAD,KAAA,UAA4B3B,EAAA,YAAiBK,OAAO2C,gBAAA,OAAsBxC,OAAQM,MAAAjB,EAAA5D,SAAA,KAAA8E,SAAA,SAAAC,GAAmDnB,EAAAoB,KAAApB,EAAA5D,SAAA,OAAA+E,IAAoCE,WAAA,oBAA6B,GAAArB,EAAAsB,GAAA,KAAAnB,EAAA,gBAAqCK,OAAOuB,MAAA,QAAc5B,EAAA,kBAAuBQ,OAAOM,MAAAjB,EAAA5D,SAAA,IAAA8E,SAAA,SAAAC,GAAkDnB,EAAAoB,KAAApB,EAAA5D,SAAA,MAAA+E,IAAmCE,WAAA,kBAA4BlB,EAAA,YAAiBE,YAAA,QAAAG,OAA2BuB,MAAA,KAAW/B,EAAAsB,GAAA,OAAAtB,EAAAsB,GAAA,KAAAnB,EAAA,YAA2CE,YAAA,QAAAG,OAA2BuB,MAAA,KAAW/B,EAAAsB,GAAA,eAAAtB,EAAAsB,GAAA,KAAAnB,EAAA,gBAAuDK,OAAOuB,MAAA,QAAc5B,EAAA,mBAAwBK,OAAO4C,IAAA,EAAAC,IAAA,KAAkB1C,OAAQM,MAAAjB,EAAA5D,SAAA,IAAA8E,SAAA,SAAAC,GAAkDnB,EAAAoB,KAAApB,EAAA5D,SAAA,MAAA+E,IAAmCE,WAAA,mBAA4B,GAAArB,EAAAsB,GAAA,KAAAnB,EAAA,gBAAqCK,OAAOuB,MAAA,QAAc5B,EAAA,kBAAuBK,OAAOxC,KAAA,OAAAgD,YAAA,QAAmCL,OAAQM,MAAAjB,EAAA5D,SAAA,MAAA8E,SAAA,SAAAC,GAAoDnB,EAAAoB,KAAApB,EAAA5D,SAAA,QAAA+E,IAAqCE,WAAA,qBAA8B,GAAArB,EAAAsB,GAAA,KAAAnB,EAAA,gBAAqCK,OAAOuB,MAAA,QAAc5B,EAAA,YAAiBK,OAAOxC,KAAA,YAAkB2C,OAAQM,MAAAjB,EAAA5D,SAAA,KAAA8E,SAAA,SAAAC,GAAmDnB,EAAAoB,KAAApB,EAAA5D,SAAA,OAAA+E,IAAoCE,WAAA,oBAA6B,GAAArB,EAAAsB,GAAA,KAAAnB,EAAA,OAA4BE,YAAA,gBAAAG,OAAmC8C,KAAA,UAAgBA,KAAA,WAAenD,EAAA,aAAkBS,UAAUY,MAAA,SAAAV,GAAyBd,EAAAtE,mBAAA,MAA8BsE,EAAAsB,GAAA,QAAAtB,EAAAsB,GAAA,eAAAtB,EAAA1E,aAAA6E,EAAA,aAA0EK,OAAOxC,KAAA,WAAiBuD,IAAKC,MAAAxB,EAAAd,cAAwBc,EAAAsB,GAAA,QAAAnB,EAAA,aAAiCK,OAAOxC,KAAA,WAAiBuD,IAAKC,MAAAxB,EAAAzB,cAAwByB,EAAAsB,GAAA,yBAEzxIiC,oBCYjBC,EAdyBC,EAAQ,OAcjCC,CACEtI,EACA0E,GATF,EAEA,KAEA,KAEA,MAUe6D,EAAA,QAAAH,EAAiB","file":"static/js/36.ff3e5107a4793ce24b4a.js","sourcesContent":["var SIGN_REGEXP = /([yMdhsm])(\\1*)/g\r\nvar DEFAULT_PATTERN = 'yyyy-MM-dd'\r\nfunction padding(s, len) {\r\n  var lens = len - (s + '').length\r\n  for (var i = 0; i < lens; i++) { s = '0' + s }\r\n  return s\r\n}\r\n\r\nexport default {\r\n  getQueryStringByName: function(name) {\r\n    var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i')\r\n    var r = window.location.search.substr(1).match(reg)\r\n    var context = ''\r\n    if (r != null) { context = r[2] }\r\n    reg = null\r\n    r = null\r\n    return context == null || context === '' || context === 'undefined' ? '' : context\r\n  },\r\n  formatDate: {\r\n\r\n    format: function(date, pattern) {\r\n      pattern = pattern || DEFAULT_PATTERN\r\n      return pattern.replace(SIGN_REGEXP, function($0) {\r\n        switch ($0.charAt(0)) {\r\n          case 'y': return padding(date.getFullYear(), $0.length)\r\n          case 'M': return padding(date.getMonth() + 1, $0.length)\r\n          case 'd': return padding(date.getDate(), $0.length)\r\n          case 'w': return date.getDay() + 1\r\n          case 'h': return padding(date.getHours(), $0.length)\r\n          case 'm': return padding(date.getMinutes(), $0.length)\r\n          case 's': return padding(date.getSeconds(), $0.length)\r\n        }\r\n      })\r\n    },\r\n    parse: function(dateString, pattern) {\r\n      var matchs1 = pattern.match(SIGN_REGEXP)\r\n      var matchs2 = dateString.match(/(\\d)+/g)\r\n      if (matchs1.length === matchs2.length) {\r\n        var _date = new Date(1970, 0, 1)\r\n        for (var i = 0; i < matchs1.length; i++) {\r\n          var _int = parseInt(matchs2[i])\r\n          var sign = matchs1[i]\r\n          switch (sign.charAt(0)) {\r\n            case 'y': _date.setFullYear(_int); break\r\n            case 'M': _date.setMonth(_int - 1); break\r\n            case 'd': _date.setDate(_int); break\r\n            case 'h': _date.setHours(_int); break\r\n            case 'm': _date.setMinutes(_int); break\r\n            case 's': _date.setSeconds(_int); break\r\n          }\r\n        }\r\n        return _date\r\n      }\r\n      return null\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/table.js","<template>\r\n    <section class=\"app-container\">\r\n        <!-- 工具条 -->\r\n        <el-col :span=\"24\" class=\"toolbar\" style=\"padding-bottom: 0px;\">\r\n            <el-form :inline=\"true\" :model=\"filters\" @submit.native.prevent>\r\n                <el-form-item>\r\n                    <el-input v-model=\"filters.name\" placeholder=\"姓名\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"getUsers\">查询</el-button>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"handleAdd\">新增</el-button>\r\n                </el-form-item>\r\n                <el-form-item style=\"float:right;\">\r\n                    <el-button type=\"danger\" @click=\"batchRemove\" :disabled=\"this.sels.length===0\">批量删除</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </el-col>\r\n\r\n        <!-- 列表 -->\r\n        <el-table :data=\"users\" heighlight-current-row @selection-change=\"selsChange\" style=\"width: 100%;\">\r\n            <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n            <el-table-column type=\"index\" width=\"60\"></el-table-column>\r\n            <el-table-column prop=\"name\" label=\"姓名\" width=\"120\"></el-table-column>\r\n            <el-table-column prop=\"sex\" label=\"性别\" width=\"120\" :formatter=\"formatSex\"></el-table-column>\r\n            <el-table-column prop=\"age\" label=\"年龄\" width=\"120\"></el-table-column>\r\n            <el-table-column prop=\"birth\" label=\"生日\" width=\"120\"></el-table-column>\r\n            <el-table-column prop=\"addr\" label=\"地址\" min-width=\"160\"></el-table-column>\r\n            <el-table-column label=\"操作\" width=\"150\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button size=\"small\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n                    <el-button type=\"danger\" size=\"small\" @click=\"handleDel(scope.$index, scope.row)\">删除</el-button>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column></el-table-column>\r\n        </el-table>\r\n\r\n        <!-- 工具条 -->\r\n        <el-col :span=\"24\" class=\"toolbar\">\r\n            <el-pagination layout=\"prev, pager, next\" @current-change=\"handleCurrentChange\" :page-size=\"20\" :total=\"total\" style=\"float:right;\"></el-pagination>\r\n        </el-col>\r\n\r\n        <!-- 编辑界面 -->\r\n        <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\" :close-on-click-model=\"false\">\r\n            <el-form :model=\"editForm\" label-width=\"80px\" :rules=\"editFormRules\" ref=\"editForm\">\r\n                <el-form-item label=\"姓名\" prop=\"name\">\r\n                    <el-input v-model=\"editForm.name\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"性别\">\r\n                    <el-radio-group v-model=\"editForm.sex\">\r\n                        <el-radio class=\"radio\" :label=1>男</el-radio>\r\n                        <el-radio class=\"radio\" :label=0>女</el-radio>\r\n                    </el-radio-group>\r\n                </el-form-item>\r\n                <el-form-item label=\"年龄\">\r\n                    <el-input-number v-model=\"editForm.age\" :min=\"0\" :max=\"200\"></el-input-number>\r\n                </el-form-item>\r\n                <el-form-item label=\"生日\">\r\n                    <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"editForm.birth\"></el-date-picker>\r\n                </el-form-item>\r\n                <el-form-item label=\"地址\">\r\n                    <el-input type=\"textarea\" v-model=\"editForm.addr\"></el-input>\r\n                </el-form-item>\r\n                <div class=\"dialog-footer\" slot=\"footer\">\r\n                    <el-button @click.native=\"dialogFormVisible=false\">取消</el-button>\r\n                    <el-button v-if=\"dialogStatus=='create'\" type=\"primary\" @click=\"createData\">添加</el-button>\r\n                    <el-button v-else type=\"primary\" @click=\"updateData\">修改</el-button>\r\n                </div>\r\n            </el-form>\r\n        </el-dialog>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport util from '@/utils/table.js'\r\nimport { getUserListPage, removeUser, batchRemoveUser, editUser, addUser } from '@/api/userTable'\r\nexport default {\r\n    data() {\r\n        return {\r\n            dialogStatus: '',\r\n            textMap: {\r\n                update: 'Edit',\r\n                create: 'Create'\r\n            },\r\n            dialogFormVisible: false,\r\n            filters: {\r\n                name: ''\r\n            },\r\n            page: 1,\r\n            total: 0,\r\n            users: [],\r\n            sels: [],   // 列表选中列\r\n            editFormRules: {\r\n                name: [{ required: true, message: '请输入姓名', trigger: 'blur' }]\r\n            },\r\n            //编辑界面数据\r\n            editForm: {\r\n                id: '0',\r\n                name: '',\r\n                sex: 1,\r\n                age: 0,\r\n                birth: '',\r\n                addr: ''\r\n            },\r\n            addFormVisible: false,      // 新增界面是否显示\r\n            addFormRules: {\r\n                name: [{ required: true, message: '请输入姓名', trigger: 'blur' }]\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        // 性别显示转换\r\n        formatSex: function(row, column) {\r\n            return row.sex === 1 ? '男' : row.sex === 0 ? '女' : '未知'\r\n        },\r\n        handleCurrentChange(val) {\r\n            this.page = val\r\n            this.getUsers()\r\n        },\r\n        // 获取用户列表\r\n        getUsers() {\r\n            const para = {\r\n                page: this.page,\r\n                name: this.filters.name\r\n            }\r\n            getUserListPage(para).then(res => {\r\n                this.total = res.data.total\r\n                this.users = res.data.users\r\n            })\r\n        },\r\n        // 删除\r\n        handleDel(index, row) {\r\n            this.$confirm('确认删除该记录吗？', '提示', {\r\n                type: 'warning'\r\n            })\r\n            .then(() => {\r\n                const para = { id: row.id }\r\n                removeUser(para).then(res => {\r\n                    this.$message({\r\n                        message: '删除成功',\r\n                        type: 'success'\r\n                    })\r\n                    this.getUsers()\r\n                })\r\n            })\r\n            .catch(() => {})\r\n        },\r\n        // 显示编辑界面\r\n        handleEdit(index, row) {\r\n            this.dialogStatus = 'update'\r\n            this.dialogFormVisible = true\r\n            this.editForm = Object.assign({}, row)\r\n        },\r\n        // 显示新增界面\r\n        handleAdd() {\r\n            this.dialogStatus = 'create'\r\n            this.dialogFormVisible = true\r\n            this.editForm = {\r\n                id: '0',\r\n                name: '',\r\n                sex: 1,\r\n                age: 0,\r\n                birth: '',\r\n                addr: ''\r\n            }\r\n        },\r\n        // 编辑\r\n        updateData() {\r\n            this.$refs.editForm.validate(valid => {\r\n                if(valid) {\r\n                    this.$confirm('确认提交吗？', '提示', {})\r\n                        .then(() => {\r\n                            const para = Object.assign({}, this.editForm)\r\n                            para.birth = !para.birth || para.birth === '' ? '' : util.formatData.format(new Date(para.birth), 'yyyy-MM-dd')\r\n                            editUser(para).then(res => {\r\n                                this.$message({\r\n                                    message: \"提交成功\",\r\n                                    type: 'success'\r\n                                })\r\n                                this.$refs['editForm'].resetFields()\r\n                                thi.dialogFormVisible = false\r\n                                this.getUsers()\r\n                            })\r\n                        })\r\n                        .catch(e => {\r\n                            // 错误\r\n                            console.log(e)\r\n                        })\r\n                }\r\n            })\r\n        },\r\n        // 新增\r\n        createData: function() {\r\n            this.$refs.editForm.validate(valid => {\r\n                if(valid) {\r\n                    this.$confirm('确认提交吗？', '提示', {})\r\n                    .then(() => {\r\n                        this.editForm.id = (parseInt(Math.random() * 100)).toString()\r\n                        const para = Object.assign({}, this.editForm)\r\n                        console.log(para)\r\n\r\n                        para.birth = !para.birth || para.birth === '' ? '' : util.formatDate.format(new Date(para.birth), 'yyyy-MM-dd')\r\n                        addUser(para).then(res => {\r\n                            this.$message({\r\n                                message: '提交成功',\r\n                                type: 'success'\r\n                            })\r\n                            this.$refs['editForm'].resetFields()\r\n                            this.dialogFormVisible = false\r\n                            this.getUsers()\r\n                        })\r\n                    })\r\n                    .catch(e => {\r\n                        // 错误\r\n                        console.log(e)\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        // 全选单选多选\r\n        selsChange(sels) {\r\n            this.sels = sels\r\n        },\r\n        // 批量删除\r\n        batchRemove() {\r\n            var ids = this.sels.map(item => item.id).toString()\r\n            this.$confirm('确认删除选中记录吗？', '提示', {\r\n                type: 'warning'\r\n            })\r\n            .then(() => {\r\n                const para = { ids: ids }\r\n                batchRemoveUser(para).then(res => {\r\n                    this.$message({\r\n                        message: '删除成功',\r\n                        type: 'success'\r\n                    })\r\n                    this.getUsers()\r\n                })\r\n            })\r\n            .catch((e) => {\r\n                // 错误\r\n                console.log(e)\r\n            })\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getUsers()\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/table/complex-table.vue","import request from '@/utils/request'\r\n\r\nexport function getUserListPage(params) {\r\n    return request({\r\n        url: '/user/listpage',\r\n        method: 'get',\r\n        params: params\r\n    })\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/userTable.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"app-container\"},[_c('el-col',{staticClass:\"toolbar\",staticStyle:{\"padding-bottom\":\"0px\"},attrs:{\"span\":24}},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.filters},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"姓名\"},model:{value:(_vm.filters.name),callback:function ($$v) {_vm.$set(_vm.filters, \"name\", $$v)},expression:\"filters.name\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getUsers}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"新增\")])],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"float\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"danger\",\"disabled\":this.sels.length===0},on:{\"click\":_vm.batchRemove}},[_vm._v(\"批量删除\")])],1)],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.users,\"heighlight-current-row\":\"\"},on:{\"selection-change\":_vm.selsChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"60\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"姓名\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sex\",\"label\":\"性别\",\"width\":\"120\",\"formatter\":_vm.formatSex}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"age\",\"label\":\"年龄\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"birth\",\"label\":\"生日\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"addr\",\"label\":\"地址\",\"min-width\":\"160\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){_vm.handleDel(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])}),_vm._v(\" \"),_c('el-table-column')],1),_vm._v(\" \"),_c('el-col',{staticClass:\"toolbar\",attrs:{\"span\":24}},[_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"layout\":\"prev, pager, next\",\"page-size\":20,\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.textMap[_vm.dialogStatus],\"visible\":_vm.dialogFormVisible,\"close-on-click-model\":false},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"editForm\",attrs:{\"model\":_vm.editForm,\"label-width\":\"80px\",\"rules\":_vm.editFormRules}},[_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.editForm.name),callback:function ($$v) {_vm.$set(_vm.editForm, \"name\", $$v)},expression:\"editForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"性别\"}},[_c('el-radio-group',{model:{value:(_vm.editForm.sex),callback:function ($$v) {_vm.$set(_vm.editForm, \"sex\", $$v)},expression:\"editForm.sex\"}},[_c('el-radio',{staticClass:\"radio\",attrs:{\"label\":1}},[_vm._v(\"男\")]),_vm._v(\" \"),_c('el-radio',{staticClass:\"radio\",attrs:{\"label\":0}},[_vm._v(\"女\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"年龄\"}},[_c('el-input-number',{attrs:{\"min\":0,\"max\":200},model:{value:(_vm.editForm.age),callback:function ($$v) {_vm.$set(_vm.editForm, \"age\", $$v)},expression:\"editForm.age\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"生日\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.editForm.birth),callback:function ($$v) {_vm.$set(_vm.editForm, \"birth\", $$v)},expression:\"editForm.birth\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"地址\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.editForm.addr),callback:function ($$v) {_vm.$set(_vm.editForm, \"addr\", $$v)},expression:\"editForm.addr\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){_vm.dialogFormVisible=false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),(_vm.dialogStatus=='create')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.createData}},[_vm._v(\"添加\")]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateData}},[_vm._v(\"修改\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6d220df6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/table/complex-table.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./complex-table.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./complex-table.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6d220df6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./complex-table.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/table/complex-table.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}