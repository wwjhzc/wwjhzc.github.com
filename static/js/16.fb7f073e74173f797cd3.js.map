{"version":3,"sources":["webpack:///./src/directive/permission/permission.js","webpack:///./src/directive/permission/index.js","webpack:///src/views/permission/directive.vue","webpack:///./src/views/permission/directive.vue?8b97","webpack:///./src/views/permission/directive.vue","webpack:///src/views/permission/components/SwitchRoles.vue","webpack:///./src/views/permission/components/SwitchRoles.vue?5793","webpack:///./src/views/permission/components/SwitchRoles.vue"],"names":["permission","inserted","el","binding","vnode","value","roles","store","getters","Array","length","Error","permissionRoles","some","role","includes","parentNode","removeChild","install","Vue","directive","window","use","name","components","SwitchRoles","directives","directive_permission","data","key","methods","handleRolesChange","this","permission_directive","render","_vm","_h","$createElement","_c","_self","staticClass","on","change","_v","staticStyle","margin-top","rawName","expression","attrs","type","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","components_SwitchRoles","margin-bottom","_s","$t","model","callback","$$v","switchRoles","label","computed","$store","get","set","val","_this","dispatch","then","$emit"],"mappings":"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","file":"static/js/16.fb7f073e74173f797cd3.js","sourcesContent":["import store from '@/store'\r\n\r\nexport default {\r\n    inserted(el, binding, vnode) {\r\n        const { value } = binding\r\n        const roles = store.getters && store.getters.roles\r\n\r\n        if(value && value instanceof Array && value.length > 0) {\r\n            const permissionRoles = value\r\n\r\n            const hasPermission = roles.some(role => {\r\n                return permissionRoles.includes(role)\r\n            })\r\n            if(!hasPermission) {\r\n                el.parentNode && el.parentNode.removeChild(el)\r\n            }\r\n        } else {\r\n            throw new Error(`need roles! Like v-permission=\"['admin','editor']\"`)\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/directive/permission/permission.js","import permission from './permission'\r\n\r\nconst install = function(Vue) {\r\n    Vue.directive('permission', permission)\r\n}\r\n\r\nif(window.Vue) {\r\n    window['permission'] = permission\r\n    Vue.use(install);\r\n}\r\n\r\npermission.install = install\r\nexport default permission\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/directive/permission/index.js","<template>\r\n    <div class=\"app-container\">\r\n        <switch-roles @change=\"handleRolesChange\"></switch-roles>\r\n        <div :key=\"key\" style=\"margin-top: 30px;\">\r\n            <span v-permission=\"['admin']\" class=\"permission-alert\">\r\n                Only admn can see this\r\n                <el-button type=\"warning\">admin</el-button>\r\n                <el-button type=\"danger\">危险按钮</el-button>\r\n            </span>\r\n            <span v-permission=\"['editor']\" class=\"permission-alert\">\r\n                Only editor can see this\r\n                <el-button type=\"success\">编辑</el-button>\r\n                <el-button type=\"info\">信息按钮</el-button>\r\n            </span>\r\n\r\n            <span v-permission=\"['admin', 'editor']\" class=\"permission-alert\">\r\n                Both adminand editor can see this\r\n                <el-button type=\"primary\">主要按钮</el-button>\r\n                <el-button type=\"success\">成功按钮</el-button>\r\n                <el-button type=\"info\">信息按钮</el-button>\r\n                <el-button type=\"warning\">警告按钮</el-button>\r\n                <el-button type=\"danger\">危险按钮</el-button>\r\n            </span>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport permission from '@/directive/permission/index.js'    // 权限判断指令\r\nimport SwitchRoles from './components/SwitchRoles'\r\n\r\nexport default {\r\n    name: 'directivePermission',\r\n    components: { SwitchRoles },\r\n    directives: { permission },\r\n    data() {\r\n        return {\r\n            key: 1      // 为了能每次切换权限的时候重新初始化指令\r\n        }\r\n    },\r\n    methods: {\r\n        handleRolesChange() {\r\n            this.key++\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n.app-container {\r\n  /deep/ .permission-alert {\r\n    width: 100%;\r\n    margin-top: 30px;\r\n    background-color: #f0f9eb;\r\n    color: #67c23a;\r\n    padding: 8px 16px;\r\n    border-radius: 4px;\r\n    display: block;\r\n  }\r\n  /deep/ .permission-tag {\r\n    background-color: #ecf5ff;\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/permission/directive.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('switch-roles',{on:{\"change\":_vm.handleRolesChange}}),_vm._v(\" \"),_c('div',{key:_vm.key,staticStyle:{\"margin-top\":\"30px\"}},[_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['admin']),expression:\"['admin']\"}],staticClass:\"permission-alert\"},[_vm._v(\"\\n            Only admn can see this\\n            \"),_c('el-button',{attrs:{\"type\":\"warning\"}},[_vm._v(\"admin\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\"}},[_vm._v(\"危险按钮\")])],1),_vm._v(\" \"),_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['editor']),expression:\"['editor']\"}],staticClass:\"permission-alert\"},[_vm._v(\"\\n            Only editor can see this\\n            \"),_c('el-button',{attrs:{\"type\":\"success\"}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"info\"}},[_vm._v(\"信息按钮\")])],1),_vm._v(\" \"),_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['admin', 'editor']),expression:\"['admin', 'editor']\"}],staticClass:\"permission-alert\"},[_vm._v(\"\\n            Both adminand editor can see this\\n            \"),_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"主要按钮\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\"}},[_vm._v(\"成功按钮\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"info\"}},[_vm._v(\"信息按钮\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"warning\"}},[_vm._v(\"警告按钮\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\"}},[_vm._v(\"危险按钮\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-68f95b92\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/permission/directive.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-68f95b92\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./directive.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./directive.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./directive.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-68f95b92\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./directive.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-68f95b92\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/permission/directive.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <div style=\"margin-bottom:15px;\">{{$t('permission.roles')}}： {{roles}}</div>\r\n    {{$t('permission.switchRoles')}}：\r\n    <el-radio-group v-model=\"switchRoles\">\r\n      <el-radio-button label=\"editor\"></el-radio-button>\r\n      <el-radio-button label=\"admin\"></el-radio-button>\r\n    </el-radio-group>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  computed: {\r\n    roles() {\r\n      return this.$store.getters.roles\r\n    },\r\n    switchRoles: {\r\n      get() {\r\n        return this.roles[0]\r\n      },\r\n      set(val) {\r\n        this.$store.dispatch('ChangeRoles', val).then(() => {\r\n          this.$emit('change')\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/permission/components/SwitchRoles.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"margin-bottom\":\"15px\"}},[_vm._v(_vm._s(_vm.$t('permission.roles'))+\"： \"+_vm._s(_vm.roles))]),_vm._v(\"\\n  \"+_vm._s(_vm.$t('permission.switchRoles'))+\"：\\n  \"),_c('el-radio-group',{model:{value:(_vm.switchRoles),callback:function ($$v) {_vm.switchRoles=$$v},expression:\"switchRoles\"}},[_c('el-radio-button',{attrs:{\"label\":\"editor\"}}),_vm._v(\" \"),_c('el-radio-button',{attrs:{\"label\":\"admin\"}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3e99a284\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/permission/components/SwitchRoles.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SwitchRoles.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SwitchRoles.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3e99a284\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SwitchRoles.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/permission/components/SwitchRoles.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}